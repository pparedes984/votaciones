{
    "type": "Ext.container.Viewport",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "vwprtloginvotos",
        "designer|userClassName": "vwprtLoginVotos",
        "height": 250,
        "layout": "border",
        "width": 400
    },
    "configAlternates": {
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "height": "auto",
        "layout": "string",
        "width": "auto"
    },
    "name": "MyViewport2",
    "designerId": "f6729abe-8ee5-4527-8c3b-a9cbc43f5dfa",
    "viewControllerInstanceId": "ac4c60ad-324b-49ad-8502-54a27d462dfb",
    "viewModelInstanceId": "d96e9e52-19ed-4cef-a854-88d7546d06bb",
    "cn": [
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyStyle": "background-color : #666666",
                "dock": "bottom",
                "layout": "center",
                "layout|region": "center"
            },
            "configAlternates": {
                "bodyStyle": "string",
                "dock": "string",
                "layout": "string",
                "layout|region": "string"
            },
            "name": "MyPanel3",
            "designerId": "f76b60c1-1252-4b2f-a67c-29c3dc23c4d0",
            "cn": [
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": 250,
                        "layout": "border",
                        "width": 600
                    },
                    "configAlternates": {
                        "height": "auto",
                        "layout": "string",
                        "width": "auto"
                    },
                    "name": "MyPanel4",
                    "designerId": "8e2a9cf3-8525-4fb1-a115-0e53fc5e1b91",
                    "cn": [
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "",
                                "layout|region": "west",
                                "width": 200
                            },
                            "configAlternates": {
                                "html": "string",
                                "layout|region": "string",
                                "width": "auto"
                            },
                            "name": "MyPanel5",
                            "designerId": "b6648222-d75f-4b91-b4f0-c240d5755cbc"
                        },
                        {
                            "type": "Ext.form.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "bodyPadding": 10,
                                "container|align": "center",
                                "container|pack": "center",
                                "id": "FormaLogin1",
                                "layout": "vbox",
                                "layout|region": "center"
                            },
                            "configAlternates": {
                                "bodyPadding": "auto",
                                "container|align": "string",
                                "container|pack": "string",
                                "id": "string",
                                "layout": "string",
                                "layout|region": "string"
                            },
                            "name": "MyForm1",
                            "designerId": "301d4001-701a-46b6-97c9-ce2d00049f96",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "allowBlank": false,
                                        "enforceMaxLength": true,
                                        "fieldLabel": "Cédula",
                                        "id": "cedula",
                                        "margin": "50 0 0 0",
                                        "maxLength": 30,
                                        "name": "cedula"
                                    },
                                    "configAlternates": {
                                        "allowBlank": "boolean",
                                        "enforceMaxLength": "boolean",
                                        "fieldLabel": "string",
                                        "id": "string",
                                        "margin": "auto",
                                        "maxLength": "number",
                                        "name": "string"
                                    },
                                    "name": "MyTextField2",
                                    "designerId": "ef169651-4d3f-4e70-a95e-01d2b86422bf"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "allowBlank": false,
                                        "enforceMaxLength": true,
                                        "fieldLabel": "Contraseña",
                                        "id": "clave",
                                        "inputType": "password",
                                        "margin": "20 0 0 0",
                                        "maxLength": 30,
                                        "name": "clave"
                                    },
                                    "configAlternates": {
                                        "allowBlank": "boolean",
                                        "enforceMaxLength": "boolean",
                                        "fieldLabel": "string",
                                        "id": "string",
                                        "inputType": "string",
                                        "margin": "auto",
                                        "maxLength": "number",
                                        "name": "string"
                                    },
                                    "name": "MyTextField3",
                                    "designerId": "824616bd-5011-4e4a-957f-123f4d09eb0b",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onClaveSpecialkey",
                                                "implHandler": [
                                                    "//asigna la funcion del boton a la tecla ENTER",
                                                    "if(e.getKey() == e.ENTER)",
                                                    "{",
                                                    "    this.onBtnAceptarClick();",
                                                    "}"
                                                ],
                                                "name": "specialkey",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onClaveSpecialkey",
                                            "designerId": "8971412c-a675-499b-862f-15beafcb5bb9"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "id": "btnAceptar",
                                        "margin": "20 0 0 0",
                                        "text": "Aceptar",
                                        "width": 100
                                    },
                                    "configAlternates": {
                                        "id": "string",
                                        "margin": "auto",
                                        "text": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyButton1",
                                    "designerId": "934601ce-83ed-47b9-8c43-610449ce9a87",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onBtnAceptarClick",
                                                "implHandler": [
                                                    "var forma = this.getView().down('#FormaLogin1').getForm();",
                                                    "if(forma.isValid())",
                                                    "{",
                                                    "    Ext.Ajax.request({",
                                                    "        url: '../servidor/voto/votante/revisa',",
                                                    "        method:\"post\",",
                                                    "        scope:this,",
                                                    "        params: {",
                                                    "            cedula: Ext.getCmp('cedula').getValue(),",
                                                    "            clave: Ext.getCmp('clave').getValue()",
                                                    "        },",
                                                    "        success: function( result, request )",
                                                    "        {",
                                                    "            var responseData = Ext.decode(result.responseText);",
                                                    "            if (!responseData.success) {",
                                                    "                Ext.Msg.show//Mensaje de Error",
                                                    "                (",
                                                    "                    {",
                                                    "                        title: 'Error',",
                                                    "                        msg: responseData.msn,",
                                                    "                        icon: Ext.Msg.ERROR,",
                                                    "                        buttons: Ext.Msg.OK",
                                                    "                    }",
                                                    "                );",
                                                    "            }",
                                                    "            else{",
                                                    "",
                                                    "                this.getView().destroy();",
                                                    "",
                                                    "",
                                                    "                VOTANTE = responseData.data[0];",
                                                    "",
                                                    "                Ext.Ajax.request({",
                                                    "                    url: '../servidor/voto/Tipocandidato/get',",
                                                    "                    method:\"post\",",
                                                    "                    success: function( result, request ) {",
                                                    "                        var responseData = Ext.JSON.decode(result.responseText);",
                                                    "                        TIPOS = responseData;",
                                                    "                        VOTOS = [];",
                                                    "                        for (var i = 0; i<TIPOS.data.length; i++) {",
                                                    "                            if(!VOTOS[i])",
                                                    "                                VOTOS[i] = [];",
                                                    "                        }",
                                                    "                        Ext.create('voto.view.vwprtPrincipal', {renderTo: Ext.getBody()});",
                                                    "                        Ext.getCmp('displayusuario2').setValue('TRIBUNAL: '+NOMBRE);",
                                                    "                        Ext.getCmp('displayusuario3').setValue('VOTANTE: '+VOTANTE.nombres);",
                                                    "                    },",
                                                    "                    failure: function(response, opts) {",
                                                    "                        console.log('server-side failure with status code ' + response.status);",
                                                    "                    }",
                                                    "                });",
                                                    "            }",
                                                    "        },",
                                                    "",
                                                    "        failure: function(response, opts)",
                                                    "        {",
                                                    "            Ext.Msg.show({",
                                                    "                title:'Error',",
                                                    "                msg: 'Usuario o clave mal ingresados',",
                                                    "                buttons: Ext.Msg.OK,",
                                                    "                icon: Ext.MessageBox.WARNING",
                                                    "            });",
                                                    "        }",
                                                    "    });",
                                                    "}",
                                                    "else",
                                                    "{",
                                                    "    Ext.Msg.alert('Error', 'Debe llenar todos los campos');",
                                                    "}"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "name": "string",
                                                "scope": "string",
                                                "implHandler": "code"
                                            },
                                            "name": "onBtnAceptarClick",
                                            "designerId": "503979c0-353d-4924-ab87-b599840ce7b9"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.Label",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": 1,
                                        "margin": 20,
                                        "style": "fontFamily : Georgia; font-style: italic; font-size: 14px",
                                        "text": "Desarrollado por la Dirección Informática | PUCE"
                                    },
                                    "configAlternates": {
                                        "layout|flex": "number",
                                        "margin": "auto",
                                        "style": "string",
                                        "text": "string"
                                    },
                                    "name": "MyLabel1",
                                    "designerId": "112d52bd-d27a-4412-9fac-47785859c180"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.toolbar.Toolbar",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dock": "bottom"
                    },
                    "configAlternates": {
                        "dock": "string"
                    },
                    "name": "MyToolbar",
                    "designerId": "afd3cd61-701b-4d73-b179-3fb8342908fe",
                    "cn": [
                        {
                            "type": "Ext.form.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "id": "displayusuario",
                                "layout|flex": null,
                                "margin": "0 0 3 20"
                            },
                            "configAlternates": {
                                "id": "string",
                                "layout|flex": "number",
                                "margin": "auto"
                            },
                            "name": "MyLabel2",
                            "designerId": "399018c3-8107-41a9-afb2-7379c9f612fe"
                        },
                        {
                            "type": "Ext.toolbar.Fill",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": null
                            },
                            "configAlternates": {
                                "layout|flex": "number"
                            },
                            "name": "MyFill",
                            "designerId": "f2a04991-8068-4841-be24-4bb94bf25f2b"
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "iconAlign": "right",
                                "iconCls": "fa fa-power-off",
                                "id": "btnSalir",
                                "layout|flex": null,
                                "margin": "0 20 0 0",
                                "text": "Salir"
                            },
                            "configAlternates": {
                                "iconAlign": "string",
                                "iconCls": "string",
                                "id": "string",
                                "layout|flex": "number",
                                "margin": "auto",
                                "text": "string"
                            },
                            "name": "MyButton2",
                            "designerId": "205437cb-0f27-466b-9347-5838081ab8ff",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onBtnSalirClick",
                                        "implHandler": [
                                            "LOGINVOTOS = this;",
                                            "if(!Ext.getCmp('pnlLogout'))",
                                            "{",
                                            "    var win = Ext.create('voto.view.pnlLogout');",
                                            "    win.show();",
                                            "}"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "name": "string",
                                        "scope": "string",
                                        "implHandler": "code"
                                    },
                                    "name": "onBtnSalirClick",
                                    "designerId": "d1f48304-00ce-48c0-8161-f7e6504fa94d"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}